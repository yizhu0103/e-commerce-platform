<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../favicon.ico">
    <title>穿搭電商平台</title>
    <link rel="stylesheet" href="../react-ex1/stylesheets/all.css">
    <link rel="stylesheet" href="../css/style.css">

    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 共用元件 -->
    <script type="text/babel" src="https://yizhu0103.github.io/project-person/js/Element.jsx"></script>



</head>

<body>
    <main>

        <div id="root"></div>
        <script type="text/babel">

            const { useState } = React;


            function App() {
                const [num, setNum] = useState(0);

                const [currentPic, setCurrentPic] = useState('../img/shop/shop-1.jpg');

                // Function to change the displayed picture
                const changePic = (picNumber) => {
                    let newPic = '';

                    switch (picNumber) {
                        case 1:
                            newPic = '../img/shop/shop-1.jpg';
                            break;
                        case 2:
                            newPic = '../img/shop/shop-2.jpg';
                            break;
                        case 3:
                            newPic = '../img/shop/shop-3.jpg';
                            break;
                        case 4:
                            newPic = '../img/shop/shop-4.jpg';
                            break;
                        default:
                            newPic = '../img/shop/shop-4.jpg';
                    }

                    setCurrentPic(newPic);
                };


                const products = [
                    {
                        id: 1,
                        title: '亞麻圓領短衫',
                        className: 'shirt',
                        nature: '',
                        img: '../img/shop/shoplist-1.jpg',
                        price: '9,999',
                        alt: 'Product Image',
                        appraise: ''
                    }, {
                        id: 2,
                        title: '休閒圓領短袖上衣',
                        className: 'shirt',
                        nature: '',
                        img: '../img/shop/shoplist-2.jpg',
                        price: '9,999',
                        alt: 'Product Image',
                        appraise: ''
                    }, {
                        id: 3,
                        title: '長袖上衣',
                        className: 'shirt',
                        nature: '',
                        img: '../img/shop/shoplist-3.jpg',
                        price: '9,999',
                        alt: 'Product Image',
                        appraise: ''
                    }, {
                        id: 4,
                        title: '蠶絲短衫',
                        className: 'shirt',
                        nature: '',
                        img: '../img/shop/shoplist-4.jpg',
                        price: '9,999',
                        alt: 'Product Image',
                        appraise: ''
                    }, {
                        id: 5,
                        title: '短袖連衣裙',
                        className: 'skirt',
                        nature: '',
                        img: '../img/shop/shoplist-5.jpg',
                        price: '8,888',
                        alt: 'Product Image',
                        appraise: ''
                    }
                ];



                return (
                    <>
                        <Header />
                        <section id="shopbox">
                            <div className="product">
                                <div className="product-img">
                                    <div className="proimglist">
                                        <div className="box"><img onClick={() => changePic(1)} src="../img/shop/shop-1.jpg" alt="商品1圖片" /></div>
                                        <div className="box"><img onClick={() => changePic(2)} src="../img/shop/shop-2.jpg" alt="" /></div>
                                        <div className="box"><img onClick={() => changePic(3)} src="../img/shop/shop-3.jpg" alt="" /></div>
                                        <div className="box"><img onClick={() => changePic(4)} src="../img/shop/shop-4.jpg" alt="" /></div>
                                    </div>
                                    <div className="showimglist">
                                        <img id="pic" src={currentPic} alt="" />
                                    </div>
                                </div>

                                <div className="product-ifon">


                                    <div className="product-title">
                                        <h2>寧靜時光大衣</h2>
                                        <h5>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Consequuntur, aliquid.</h5>
                                        <p>價格：$200</p>
                                    </div>


                                    <div className="choice">
                                        <label className="title">顏色：</label>
                                        <div className="chlist">
                                            <select id="color" title="顏色選項">
                                                <option value="紅色">紅色</option>
                                                <option value="藍色">藍色</option>
                                                <option value="綠色">綠色</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div className="choice">
                                        <label className="title">尺寸：</label>
                                        <div className="chlist">
                                            <select id="size">
                                                <option value="S">S</option>
                                                <option value="M">M</option>
                                                <option value="L">L</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div className="product_buy">
                                        <h3>數量：</h3>      
                                        <div className="amount">
                                            <button onClick={() => decreaseQuantity()}>-</button>
                                            <span id="quantity">1</span>
                                            <button onClick={() => increaseQuantity()}>+</button>
                                        </div>
                                    


                                    <div className="buy-btn">
                                        <button  id="buy" onClick={() => addToCart()}>加入購物車</button>
                                    </div>
                                </div>
                                    {/*  <div className="product-title">
                                        <h3>寧靜時光大衣</h3>
                                        <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Consequuntur, aliquid.</p>
                                        <h2>NT 9,999</h2>
                                    </div>

                                    <Options />

                                    <div className="product_buy">
                                        <div className="amount">

                                            <button id="reduce" onClick={() => {
                                                setNum(num - 1);
                                            }}>-</button>
                                            <span>{num}</span>
                                            <button id="increase" onClick={() => {
                                                setNum(num + 1);
                                            }}>+</button>
                                        </div>
                                        <div className="buy-btn">
                                            <button id="buy">加入購物車</button>
                                        </div>
                                    </div> */}
                                </div>
                            </div>

                            <div className="introduction">
                                <div className="intcho">
                                    <button id="introduce">商品介紹</button>
                                    <button id="evaluate">商品評價</button>
                                </div>
                                <div className="inttestlist">
                                    <p>Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ad magnam eveniet consequuntur dolorum
                                        accusantium tempora aut dicta harum tenetur culpa? Distinctio deleniti iusto adipisci, eaque
                                        deserunt velit. Maxime, ab aspernatur.</p>

                                    <h2>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Hic, nulla!</h2>

                                    <div className="intlist">
                                        <h4>我是材質</h4>
                                        <h4>我是材質</h4>
                                        <h4>我是材質</h4>
                                    </div>
                                </div>
                                <div className="evaluate" >
                                    <p>我是商品評價內容我是商品評價內容我是商品評價內容我是商品評價內容我是商品評價內容我是商品評價內容</p>

                                </div>

                            </div>

                            <div className="moretitle">
                                <h2>也許你也喜歡</h2>
                            </div>
                            <div className="morelist">
                                <div className="moreproduct">
                                    {products.map(product => (
                                        <Card
                                            key={product.id}
                                            title={product.title}
                                            nature={product.nature}
                                            img={product.img}
                                            alt={product.alt}
                                            price={product.price}
                                            appraise={product.appraise}
                                        />
                                    ))}

                                </div>
                            </div>

                        </section>
                        <Footer />
                    </>


                )
            }

            ReactDOM
                .createRoot(document.getElementById("root"))
                .render(<App />);

        </script>

        <script>
            let quantity = 1; // 初始商品數量

            // 增加數量
            function increaseQuantity() {
                quantity += 1;
                document.getElementById("quantity").textContent = quantity;
            }

            // 減少數量，確保數量不低於 1
            function decreaseQuantity() {
                if (quantity > 1) {
                    quantity -= 1;
                    document.getElementById("quantity").textContent = quantity;
                }
            }

            // 加入購物車邏輯
            function addToCart() {
                const color = document.getElementById("color").value;
                const size = document.getElementById("size").value;
                const cart = JSON.parse(localStorage.getItem("cart")) || [];

                const product = {
                    id: 1,
                    name: '商品',
                    price: 200,
                    image: '../../project-person/img/shop/shop-4.jpg',
                    color: color,
                    size: size,
                    quantity: quantity // 將選擇的數量一併加入
                };

                const index = cart.findIndex(
                    (item) => item.id === product.id && item.color === color && item.size === size
                );

                if (index !== -1) {
                    // 商品已經存在購物車，增加數量
                    cart[index].quantity += quantity;
                } else {
                    // 商品不存在於購物車，新增此商品
                    cart.push(product);
                }

                // 更新 localStorage
                localStorage.setItem('cart', JSON.stringify(cart));
                alert(`${product.name} (${color}, ${size}) 已加入購物車，數量：${quantity}`);
            }
        </script>





</body>

</html>