<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../favicon.ico">
    <title>穿搭電商平台</title>
    <link rel="stylesheet" href="../react-ex1/stylesheets/all.css">
    <link rel="stylesheet" href="../css/style.css">

    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- 共用元件 -->
    <script type="text/babel" src="../js/Element.jsx"></script>
</head>

<body>

    <main>
        <div id="root"></div>
        <script type="text/babel">
            const { useState, useEffect } = React;
 


            function App() {
                const [selectedCategory, setSelectedCategory] = useState('全部商品');
                useEffect(() => {
                    $(function () {
                        $('#carousel').jCarouselLite({
                            auto: 1500,
                            scroll: 1,
                            visible: 1,
                            speed: 2000,
                        });

                        $(function () {
                            let setFilter = $('#filterBtn');
                            let filterBtn = setFilter.find('h3');
                            let btnAll = $('.allItem');
                            let setList = $('#filterList');
                            let filterList = setList.find('li');

                            filterBtn.click(function () {
                                if (!$(this).hasClass('active')) {
                                    let filterClass = $(this).attr('class');
                                    filterList.each(function () {
                                        if ($(this).hasClass(filterClass)) {
                                            $(this).css({ display: 'block' });
                                        }
                                        else {
                                            $(this).css({ display: 'none' });
                                        }
                                    });
                                    filterBtn.removeClass('active');
                                    $(this).addClass('active');
                                }
                            });
                            btnAll.click(function () {
                                filterList.each(function () {
                                    $(this).css({ display: 'block' });
                                })
                            });
                            btnAll.click();
                        });
                    });
                }, []);


                const products = [
                    {
                        id: 1,
                        title: '寧靜時光大衣',
                        className: 'coat new',
                        nature: '最新商品',
                        img: '../img/index/banner-1.jpg',
                        price: '9,999',
                        alt: 'Product Image',
                        appraise: '非常好穿'
                    }, {
                        id: 2,
                        title: '西裝外套',
                        className: 'coat new',
                        nature: '最新商品',
                        img: '../img/index/banner-2.jpg',
                        price: '9,999',
                        alt: 'Product Image',
                        appraise: '超級好穿'
                    }, {
                        id: 3,
                        title: '好穿的褲子',
                        className: 'trousers new',
                        nature: '最新商品',
                        img: '../img/index/banner-3.jpg',
                        price: '9,999',
                        alt: 'Product Image',
                        appraise: '宇宙好穿'
                    }, {
                        id: 4,
                        title: '羊絨開衫',
                        className: '',
                        nature: '',
                        img: '../img/index/shoplist-1.jpg',
                        price: '9,999',
                        alt: 'Product Image',
                        appraise: '穿上不後悔'
                    }, {
                        id: 5,
                        title: '雪紡襯衫',
                        className: 'shirt',
                        nature: '',
                        img: '../img/index/shoplist-2.jpg',
                        price: '8,888',
                        alt: 'Product Image',
                        appraise: '超級貴不好穿'
                    }, {
                        id: 6,
                        title: '職業裝',
                        className: 'leisure',
                        nature: '',
                        img: '../img/index/shoplist-3.jpg',
                        price: '7,777',
                        alt: 'Product Image',
                        appraise: '----'
                    }, {
                        id: 7,
                        title: '雪紡高腰闊腿褲',
                        className: 'trousers',
                        nature: '',
                        img: '../img/index/shoplist-4.jpg',
                        price: '6,666',
                        alt: 'Product Image',
                        appraise: '----'
                    }, {
                        id: 8,
                        title: '經典小黑裙',
                        className: 'dress',
                        nature: '',
                        img: '../img/index/shoplist-5.jpg',
                        price: '1,234',
                        alt: 'Product Image',
                        appraise: '----'
                    }
                    , {
                        id: 9,
                        title: '雪紡襯衫',
                        className: 'shirt',
                        nature: '',
                        img: '../img/index/shoplist-2.jpg',
                        price: '8,888',
                        alt: 'Product Image',
                        appraise: '----'
                    }, {
                        id: 10,
                        title: '職業裝',
                        className: 'leisure',
                        nature: '',
                        img: '../img/index/shoplist-3.jpg',
                        price: '7,777',
                        alt: 'Product Image',
                        appraise: '----'
                    }, {
                        id: 11,
                        title: '雪紡高腰闊腿褲',
                        className: 'trousers',
                        nature: '',
                        img: '../img/index/shoplist-4.jpg',
                        price: '6,666',
                        alt: 'Product Image',
                        appraise: '----'
                    }, {
                        id: 12,
                        title: '經典小黑裙',
                        className: 'dress',
                        nature: '',
                        img: '../img/index/shoplist-5.jpg',
                        price: '1,234',
                        alt: 'Product Image',
                        appraise: '----'
                    }
                ];
                const handleCategoryClick = (category) => {
                    setSelectedCategory(category);
                };

                return    <>
                <Header />
                <section id="shoplist">
                    <div className="shoplist-menu">
                        <div className="commodity" id="filterBtn">
                            <h2>最新商品</h2>
                            <h3 className="new" onClick={() => handleCategoryClick('最新商品')}>最新商品</h3>
                            <h2>商品分類</h2>
                            <h3 className="allItem" onClick={() => handleCategoryClick('全部商品')}>全部商品</h3>
                            <h3 className="coat" onClick={() => handleCategoryClick('外套')}>外套</h3>
                            <h3 className="knitted" onClick={() => handleCategoryClick('針織衫')}>針織衫</h3>
                            <h3 className="shirt" onClick={() => handleCategoryClick('襯衫')}>襯衫</h3>
                            <h3 className="leisure" onClick={() => handleCategoryClick('套裝')}>套裝</h3>
                            <h3 className="dress" onClick={() => handleCategoryClick('洋裝')}>洋裝</h3>
                            <h3 className="skirt" onClick={() => handleCategoryClick('裙子')}>裙子</h3>
                            <h3 className="trousers" onClick={() => handleCategoryClick('褲裝')}>褲裝</h3>
                            <h3 className="inner" onClick={() => handleCategoryClick('內搭')}>內搭</h3>
                            <h3 className="fitting" onClick={() => handleCategoryClick('配件')}>配件</h3>
                            <h3 className="shoes" onClick={() => handleCategoryClick('鞋子')}>鞋子</h3>
                        </div>
                    </div>

                    <div className="shoplist-main">
                        <div className="carouselimg" id="carousel">
                            <ul>
                                <li><img src="../img/index/banner-1.jpg" alt="" /></li>
                                <li><img src="../img/index/banner-2.jpg" alt="" /></li>
                                <li><img src="../img/index/banner-3.jpg" alt="" /></li>
                            </ul>
                        </div>
                        <div className="commodity">
                            {/* Update the h2 text with the selected category */}
                            <h2 className='comtitle'>{selectedCategory}</h2>
                            <ul className="commoditylist" id="filterList">
                                {products.map(product => (
                                    <Card
                                        key={product.id}
                                        title={product.title}
                                        className={product.className}
                                        nature={product.nature}
                                        img={product.img}
                                        alt={product.alt}
                                        price={product.price}
                                        appraise={product.appraise}
                                    />
                                ))}
                            </ul>
                        </div>
                    </div>
                </section>
                <Footer />
            </>
            }
            const root = ReactDOM.createRoot(document.getElementById("root")).render(<App />);

        </script>

        <!-- jQuery主程式 只要放一次就好後面可以自己呼叫 -->
        <script src="../jQuery/js/jquery-1.11.3.min.js"></script>
        <!-- 輪播主程式 -->
        <script src="../jQuery/js/jquery.jcarousellite.min.js"></script>


    </main>
</body>

</html>